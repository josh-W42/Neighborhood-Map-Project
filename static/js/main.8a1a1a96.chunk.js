(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(36)},17:function(e,t,a){},19:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),i=(a(17),a(2)),l=a(3),s=a(5),u=a(4),p=a(6),m=(a(19),a(7));function d(e,t,a){return new Promise(function(n,o){new e.maps.places.PlacesService(t).nearbySearch(a,function(t,a,r){a===e.maps.places.PlacesServiceStatus.OK?n(t,r):o(t,a)})})}var h=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onSearch",value:function(e){var t=this,a=this.props.map;(function(e,t,a){return new Promise(function(n,o){new e.maps.places.PlacesService(t).textSearch(a,function(t,a){a===e.maps.places.PlacesServiceStatus.OK?n(t):o(t,a)})})})(this.props.google,a,{input:e,location:a.center,radius:"500"}).then(function(e){t.props.onMapUpdate(e),t.props.map.panTo({lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()})}).catch(function(e,a){t.props.onMapUpdate(e),alert("No Search Results"),console.log(a),console.log(e)})}},{key:"onNearbySearch",value:function(e){var t=this,a=this.props.map,n=this.props.google,o={location:a.center,radius:"2000",rankby:"distance"};switch(e){case"food":o.keyword=["food"];break;case"beauty":o.keyword=["spa"];break;case"banking":o.keyword=["finance","bank","atm"];break;case"educational":o.keyword=["school","library","museum"];break;case"entertainment":o.keyword=["theater"];break;default:alert("Error in Filter Search")}d(n,a,o).then(function(e){t.props.onMapUpdate(e)}).catch(function(e,a){t.props.onMapUpdate(e),console.log(a),console.log(e)})}},{key:"resultClick",value:function(e){this.props.map.panTo({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),this.props.onResultClick(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"sideUI"},o.a.createElement("div",{className:"mainUISection"},o.a.createElement("h1",null,"What would you like to search?"),o.a.createElement("form",null,o.a.createElement("input",{className:"searchInput",type:"text",placeholder:"Name of Venue or Address"}),o.a.createElement("input",{className:"searchSubmitBtn",value:"Search",type:"submit",onClick:function(t){t.preventDefault(),e.onSearch(document.querySelector(".searchInput").value)}})),o.a.createElement("h2",null,"Search Nearby results by type:"),o.a.createElement("form",{onChange:function(t){return e.onNearbySearch(t.target.value)}},o.a.createElement("table",{id:"inputTable"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"food"},"Food"),o.a.createElement("input",{type:"radio",name:"searchType",id:"food",value:"food"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"banking"},"Banking"),o.a.createElement("input",{type:"radio",name:"searchType",id:"banking",value:"banking"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"beauty"},"Beauty"),o.a.createElement("input",{type:"radio",name:"searchType",id:"beauty",value:"beauty"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"entertainment"},"Entertainment"),o.a.createElement("input",{type:"radio",name:"searchType",id:"entertainment",value:"entertainment"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"educational"},"Educational"),o.a.createElement("input",{type:"radio",name:"searchType",id:"educational",value:"educational"})))))),o.a.createElement("h2",null,"Results:"),o.a.createElement("div",{className:"resultsContainer"},0===this.props.places.length?o.a.createElement("p",null,"No results found"):"",this.props.places.map(function(t){return o.a.createElement("div",{tabIndex:"0",key:t.id,className:"result",onKeyUp:function(a){13===a.keyCode&&e.resultClick(t)},onClick:function(){e.resultClick(t)}},o.a.createElement("img",{className:"businessImage",src:t.icon,alt:t.name}),o.a.createElement("div",{className:"businessInfo"},o.a.createElement("h3",{className:"businessName"},t.name),o.a.createElement("p",{className:"businessAddress"},t.vicinity?t.vicinity:t.formatted_address),o.a.createElement("p",{className:"businessOpen"},t.opening_hours?"Is currently: ".concat(t.opening_hours.open_now?"Open":"Closed"):"")))}))),o.a.createElement("div",{className:"hamburgerSection"},o.a.createElement("div",{id:"hamburger"})))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={places:[],map:{},infoWindowOpen:!1,activeMarker:{},activePlace:{}},a.onMarkerClick=function(e,t,n){a.setState({activePlace:e.placeData,infoWindowOpen:!0,activeMarker:t})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onReady",value:function(e,t){var a=this;new Promise(function(e){a.setCurrentLocation(t,e)}).then(function(){a.setState({map:t});var e=a.props.google,n={location:t.center,radius:"1000",type:["point_of_interest"]};d(e,t,n).then(function(e){a.setState({places:e})}).catch(function(e,t){alert("Error in Nearby Search"),console.log(t),console.log(e)})})}},{key:"setCurrentLocation",value:function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){var n=a.coords,o={lat:n.latitude,lng:n.longitude};e.setCenter(o),t()},function(e){alert("Geolocation Serivce Failed, using default location"),console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(alert("Geolocation Unavalible, using default location"),console.log("Geolocation Unavalible, using default location"),t())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(h,{google:this.props.google,places:this.state.places,map:this.state.map,onMapUpdate:function(t){return e.setState({places:t})},onResultClick:function(t){e.setState({activePlace:t,infoWindowOpen:!1})}}),o.a.createElement(m.Map,{role:"application",tabindex:"0",clickableIcons:!0,fullscreenControl:!1,mapTypeControl:!1,onReady:this.onReady.bind(this),google:this.props.google,zoom:16},this.state.places.map(function(t){return o.a.createElement(m.Marker,{tabIndex:"0",key:t.id,placeData:t,onClick:e.onMarkerClick,position:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()},animation:e.state.activePlace===t?e.props.google.maps.Animation.BOUNCE:"",name:t.name})}),o.a.createElement(m.InfoWindow,{marker:this.state.activeMarker,visible:this.state.infoWindowOpen,onClose:function(){return e.setState({infoWindowOpen:!1,activePlace:{},activeMarker:{}})}},o.a.createElement("div",null,o.a.createElement("h3",null,this.state.activePlace.name),o.a.createElement("p",null,this.state.activePlace?this.state.activePlace.vicinity?this.state.activePlace.vicinity:this.state.activePlace.formatted_address:"")))))}}]),t}(n.Component),f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),caches.open("googleMap-v1").then(function(e){return e.addAll(["./","./App.css","./Map.js","./index.css","./index.js","./Map.js","./SideUI.js","./utils/GoogleApiHelpers.js"])}),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Map-Project",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Neighborhood-Map-Project","/service-worker.js");f?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):v(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):v(t,e)})}}("./");var b=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onHamburgerClick",value:function(){var e=document.querySelector(".hamburger"),t=document.querySelector("#sideUI");e.classList.contains("cross")?(t.style.left="-50%",e.style.left="0%"):(t.style.left="0px",e.style.left="50%"),e.classList.toggle("cross")}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"topSection"},o.a.createElement("div",{className:"hamburger",onClick:this.onHamburgerClick},o.a.createElement("div",{className:"bar1"}),o.a.createElement("div",{className:"bar2"}),o.a.createElement("div",{className:"bar3"})),o.a.createElement("h1",null,"Neighborhood Map")),o.a.createElement(g,{google:this.props.google}))}}]),t}(n.Component),y=Object(m.GoogleApiWrapper)({apiKey:"AIzaSyDXbgkEoSEdXPyG7GDmuf7Mb1wW8RZ1Ek4"})(b);c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.8a1a1a96.chunk.js.map