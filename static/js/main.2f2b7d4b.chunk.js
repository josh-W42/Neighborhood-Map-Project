(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(47)},19:function(e,t,a){},21:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),i=a.n(r),l=(a(19),a(2)),c=a(3),s=a(5),u=a(4),p=a(6),d=(a(21),a(7)),m=a(12)({clientID:"DVD1X5OQR4CP1XIFX2BLEFYS5MPV44Q25IBRYXWI0IKNFESG",clientSecret:"0GOQXLJEJLWT1XHQ1IKTN2XAI2ODW20FMN15HM2EE3LCDSEX"}),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={activeRadio:"",places:a.props.places,filteredArrayReady:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onSearch",value:function(e){var t=this;this.setState({places:this.props.places,filteredArrayReady:!1}),this.props.onFilterClose();var a=this.props.map,n={ll:"".concat(a.center.lat(),", ").concat(a.center.lng()),query:e,sortByDistance:1};m.venues.explore(n).then(function(e){t.props.onMapUpdate(e),t.props.map.panTo({lat:e.response.groups[0].items[0].venue.location.lat,lng:e.response.groups[0].items[0].venue.location.lng})}).catch(function(e,t){alert("No Search Results"),console.log(t),console.log(e)})}},{key:"onNearbySearch",value:function(e){var t=this;this.setState({places:this.props.places,filteredArrayReady:!1}),this.props.onFilterClose();var a={ll:"".concat(this.props.map.center.lat(),", ").concat(this.props.map.center.lng()),radius:"1000"};switch(e){case"food":this.setState({activeRadio:"food"}),a.section="food";break;case"arts":this.setState({activeRadio:"arts"}),a.section="arts";break;case"shopping":this.setState({activeRadio:"shops"}),a.section="shops";break;case"popular":this.setState({activeRadio:"trending"}),a.section="trending";break;default:alert("Error in Filter Search")}m.venues.explore(a).then(function(e){t.props.onMapUpdate(e)}).catch(function(e){alert("No nearby results for that catagory"),console.log(e)})}},{key:"resultClick",value:function(e){this.props.map.panTo({lat:e.venue.location.lat,lng:e.venue.location.lng}),this.props.onResultClick(e)}},{key:"getPlaceIcon",value:function(e){if(e.venue.categories.length>0){var t=e.venue.categories[0].icon;return"".concat(t.prefix,"bg_64").concat(t.suffix)}return""}},{key:"onFilterSelect",value:function(e){if("No Filter"===e)this.setState({filteredArrayReady:!1,places:this.props.places}),this.props.onFilterClose();else{var t=this.props.places.filter(function(t){return t.venue.categories[0].name.includes(e)});this.setState({filteredArrayReady:!0,places:t}),this.props.onFilterUpdate(t)}}},{key:"render",value:function(){var e,t=this;return e=this.state.filteredArrayReady?this.state.places:this.props.places,o.a.createElement("div",{id:"sideUI"},o.a.createElement("div",{className:"mainUISection"},o.a.createElement("h1",{tabIndex:"0"},"What would you like to search?"),o.a.createElement("form",null,o.a.createElement("input",{className:"searchInput",type:"text",placeholder:"Ex. Tacos, Movies, Parks"}),o.a.createElement("input",{"aria-label":"Search button",className:"searchSubmitBtn",value:"Search",type:"submit",onClick:function(e){e.preventDefault(),t.onSearch(document.querySelector(".searchInput").value)}})),o.a.createElement("h2",{tabIndex:"0"},"Search Nearby results by type:"),o.a.createElement("form",{onChange:function(e){return t.onNearbySearch(e.target.value)}},o.a.createElement("table",{id:"inputTable"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"food"},"Food"),o.a.createElement("input",{type:"radio",name:"searchType",id:"food",value:"food"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"arts"},"Artistic"),o.a.createElement("input",{type:"radio",name:"searchType",id:"arts",value:"arts"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"popular"},"Popular Locations"),o.a.createElement("input",{type:"radio",name:"searchType",id:"popular",value:"popular"})),o.a.createElement("td",{tabIndex:"0"},o.a.createElement("label",{htmlFor:"shopping"},"Shopping"),o.a.createElement("input",{type:"radio",name:"searchType",id:"shopping",value:"shopping"})))))),"food"===this.state.activeRadio?o.a.createElement("div",null,o.a.createElement("h3",{tabIndex:"0"},"Filter Food by Cuisine:"),o.a.createElement("select",{role:"combobox","aria-controls":"","aria-expanded":!0,onChange:function(e){return t.onFilterSelect(e.target.value)}},o.a.createElement("option",null,"No Filter"),o.a.createElement("option",null,"Italian"),o.a.createElement("option",null,"Pizza"),o.a.createElement("option",null,"American"),o.a.createElement("option",null,"Mexican"),o.a.createElement("option",null,"Sushi"))):"","arts"===this.state.activeRadio?o.a.createElement("div",null,o.a.createElement("h3",{tabIndex:"0"},"Filter Venues by Type:"),o.a.createElement("select",{role:"combobox","aria-controls":"","aria-expanded":!0,onChange:function(e){return t.onFilterSelect(e.target.value)}},o.a.createElement("option",null,"No Filter"),o.a.createElement("option",null,"Dance"),o.a.createElement("option",null,"Theater"),o.a.createElement("option",null,"Music Venue"),o.a.createElement("option",null,"Art Gallery"),o.a.createElement("option",null,"Museum"))):"","shops"===this.state.activeRadio?o.a.createElement("div",null,o.a.createElement("h3",{tabIndex:"0"},"Filter Shops by Type:"),o.a.createElement("select",{onChange:function(e){return t.onFilterSelect(e.target.value)}},o.a.createElement("option",null,"No Filter"),o.a.createElement("option",null,"Bookstore"),o.a.createElement("option",null,"Shopping Mall"),o.a.createElement("option",null,"Cosmetics Shop"),o.a.createElement("option",null,"Clothing Store"),o.a.createElement("option",null,"Grocery Store"))):"",o.a.createElement("h2",{tabIndex:"0"},"Results:"),o.a.createElement("div",{className:"resultsContainer"},0===e.length?o.a.createElement("p",null,"No results found"):"",e.map(function(e){return o.a.createElement("div",{tabIndex:"0",key:e.venue.id,className:"result",onKeyUp:function(a){13===a.keyCode&&t.resultClick(e)},onClick:function(){t.resultClick(e)}},o.a.createElement("img",{tabIndex:"0",className:"businessImage",src:t.getPlaceIcon(e),alt:e.venue.name}),o.a.createElement("div",{className:"businessInfo"},o.a.createElement("h3",{tabIndex:"0",className:"businessName"},e.venue.name),o.a.createElement("p",null,e.venue.categories.length>0?e.venue.categories[0].name:""),o.a.createElement("p",{tabIndex:"0",className:"businessAddress"},e.venue.location.formattedAddress),o.a.createElement("p",{className:"businessOpen"})))}))))}}]),t}(n.Component),h=a(12)({clientID:"DVD1X5OQR4CP1XIFX2BLEFYS5MPV44Q25IBRYXWI0IKNFESG",clientSecret:"0GOQXLJEJLWT1XHQ1IKTN2XAI2ODW20FMN15HM2EE3LCDSEX"}),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={places:[],map:{},infoWindowOpen:!1,activeMarker:{},activePlace:{}},a.onMarkerClick=function(e,t,n){a.setState({activePlace:e.placeData,infoWindowOpen:!0,activeMarker:t,filteredArray:[],filteredArrayReady:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onReady",value:function(e,t){var a=this;new Promise(function(e){a.setCurrentLocation(t,e)}).then(function(){a.setState({map:t});var e={ll:"".concat(t.center.lat(),", ").concat(t.center.lng()),radius:"1000"};h.venues.explore(e).then(function(e){a.setState({places:e.response.groups[0].items})}).catch(function(e){alert("Error in Nearby Search"),console.log(e)})})}},{key:"setCurrentLocation",value:function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){var n=a.coords,o={lat:n.latitude,lng:n.longitude};e.setCenter(o),t()},function(e){alert("Geolocation Serivce Failed, using default location"),console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(alert("Geolocation Unavalible, using default location"),console.log("Geolocation Unavalible, using default location"),t())}},{key:"getDevliveryIcon",value:function(e){var t=e.venue.delivery.provider.icon;return"".concat(t.prefix).concat(t.sizes[0]).concat(t.name)}},{key:"render",value:function(){var e,t=this;return e=this.state.filteredArrayReady?this.state.filteredArray:this.state.places,o.a.createElement("div",null,o.a.createElement(v,{google:this.props.google,places:this.state.places,map:this.state.map,onFilterClose:function(){return t.setState({filteredArrayReady:!1})},onFilterUpdate:function(e){return t.setState({filteredArray:e,filteredArrayReady:!0})},onMapUpdate:function(e){return t.setState({places:e.response.groups[0].items})},onResultClick:function(e){t.setState({activePlace:e.venue,infoWindowOpen:!1})}}),o.a.createElement(d.Map,{role:"application",tabindex:"0",clickableIcons:!0,fullscreenControl:!1,mapTypeControl:!1,onReady:this.onReady.bind(this),google:this.props.google,zoom:16},e.map(function(e){return o.a.createElement(d.Marker,{tabIndex:"0",key:e.venue.id,placeData:e,onClick:t.onMarkerClick,position:{lat:e.venue.location.lat,lng:e.venue.location.lng},animation:t.state.activePlace===e.venue?t.props.google.maps.Animation.BOUNCE:"",name:e.venue.name})}),o.a.createElement(d.InfoWindow,{role:"dialog",marker:this.state.activeMarker,visible:this.state.infoWindowOpen,onClose:function(){return t.setState({infoWindowOpen:!1,activePlace:{},activeMarker:{}})}},this.state.places.includes(this.state.activePlace)?o.a.createElement("div",{className:"infoWindow"},o.a.createElement("h3",{tabIndex:"0"},this.state.activePlace.venue.name),this.state.activePlace.venue.delivery?o.a.createElement("div",{className:"deliveryOptions"},o.a.createElement("p",{tabIndex:"0",className:"deliveryMessage"},"Delivery options provided by\n                          ".concat(this.state.activePlace.venue.delivery.provider.name,"!\n                          Click the icon on the left for more info")),o.a.createElement("a",{tabIndex:"0",href:this.state.activePlace.venue.delivery.url},o.a.createElement("img",{className:"deliveryLinkImg",tabIndex:"0",src:this.getDevliveryIcon(this.state.activePlace),alt:"Delivery link from\n                            ".concat(this.state.activePlace.venue.delivery.provider.name)}))):"",o.a.createElement("p",{tabIndex:"0",className:"infoWindowCatagory"},this.state.activePlace.venue.categories.length>0?this.state.activePlace.venue.categories[0].name:""),o.a.createElement("p",{tabIndex:"0",className:"infoWindowAddress"},this.state.activePlace.venue.location.formattedAddress)):o.a.createElement("div",null))))}}]),t}(n.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),caches.open("googleMap-v1").then(function(e){return e.addAll(["./","./App.css","./Map.js","./index.css","./index.js","./Map.js","./SideUI.js","./utils/GoogleApiHelpers.js"])}),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function b(e){9===e.keyCode&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",b),window.addEventListener("mousedown",E))}function E(){document.body.classList.remove("user-is-tabbing"),window.removeEventListener("mousedown",E),window.addEventListener("keydown",b)}a(44).config(),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Map-Project",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Neighborhood-Map-Project","/service-worker.js");g?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):y(t,e)})}}(),window.addEventListener("keydown",b);var k=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onHamburgerClick",value:function(){var e=document.querySelector(".hamburger"),t=document.querySelector("#sideUI");e.classList.contains("cross")?(t.style.left="-50%",e.style.left="0%"):(t.style.left="0px",e.style.left="50%"),e.classList.toggle("cross")}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"topSection"},o.a.createElement("div",{role:"button","aria-label":"Menu Toggle",tabIndex:"0",className:"hamburger cross",onClick:this.onHamburgerClick},o.a.createElement("div",{className:"bar1"}),o.a.createElement("div",{className:"bar2"}),o.a.createElement("div",{className:"bar3"})),o.a.createElement("h1",{tabIndex:"0"},"Neighborhood Map")),o.a.createElement(f,{google:this.props.google}))}}]),t}(n.Component),w=Object(d.GoogleApiWrapper)({apiKey:"AIzaSyDXbgkEoSEdXPyG7GDmuf7Mb1wW8RZ1Ek4"})(k);i.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.2f2b7d4b.chunk.js.map